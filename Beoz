local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local aimPart = "Head"
local aimbotEnabled = false

-- === Táº¡o GUI GODHUB ===
local playerGui = LocalPlayer:WaitForChild("PlayerGui")
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "GODHUB"
screenGui.Parent = playerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 150)
frame.Position = UDim2.new(0.5, -150, 0.5, -75)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.BorderSizePixel = 0
frame.Parent = screenGui

local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,40)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255,255,255)
title.Font = Enum.Font.GothamBold
title.TextSize = 24
title.Text = "ðŸ’¥ GODHUB"
title.Parent = frame

local statusLabel = Instance.new("TextLabel")
statusLabel.Size = UDim2.new(1,0,0,30)
statusLabel.Position = UDim2.new(0,0,0.7,0)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(255,255,255)
statusLabel.Text = "Aimbot: OFF"
statusLabel.Parent = frame

local toggleBtn = Instance.new("TextButton")
toggleBtn.Size = UDim2.new(0.8,0,0,40)
toggleBtn.Position = UDim2.new(0.1,0,0.4,0)
toggleBtn.Font = Enum.Font.Gotham
toggleBtn.TextSize = 18
toggleBtn.Text = "Toggle Aimbot"
toggleBtn.Parent = frame

-- === HÃ m tÃ¬m má»¥c tiÃªu gáº§n nháº¥t trÃªn mÃ n hÃ¬nh ===
local function getClosestPlayer()
	local closestPlayer = nil
	local shortestDistance = math.huge

	for _, player in pairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(aimPart) then
			local targetPos = player.Character[aimPart].Position
			local screenPos, onScreen = Camera:WorldToViewportPoint(targetPos)

			if onScreen then
				local mouseLocation = UserInputService:GetMouseLocation()
				local dist = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(mouseLocation.X, mouseLocation.Y)).Magnitude
				if dist < shortestDistance then
					shortestDistance = dist
					closestPlayer = player
				end
			end
		end
	end

	return closestPlayer
end

-- === Cháº¡y Aimbot khi báº­t ===
RunService.RenderStepped:Connect(function()
	if aimbotEnabled then
		local target = getClosestPlayer()
		if target and target.Character and target.Character:FindFirstChild(aimPart) then
			Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Character[aimPart].Position)
		end
	end
end)

-- === Báº­t / táº¯t qua nÃºt GUI ===
toggleBtn.MouseButton1Click:Connect(function()
	aimbotEnabled = not aimbotEnabled
	statusLabel.Text = aimbotEnabled and "Aimbot: ON" or "Aimbot: OFF"
end)

-- === Báº­t / táº¯t qua phÃ­m Insert ===
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if input.KeyCode == Enum.KeyCode.Insert then
		aimbotEnabled = not aimbotEnabled
		statusLabel.Text = aimbotEnabled and "Aimbot: ON" or "Aimbot: OFF"
	end
end)

print("âœ… GODHUB with Aimbot loaded! Use GUI button or [Insert] to toggle aimbot.")
