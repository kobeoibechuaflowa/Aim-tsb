local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local aimPart = "Head"
local aimbotEnabled = false
local underHitEnabled = false
local aimlockTarget = nil
local underHitTarget = nil
local guiVisible = true

-- GUI setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "DarknessGodHUB"
screenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 360, 0, 280)
frame.Position = UDim2.new(0.5, -180, 0.5, -140)
frame.BackgroundColor3 = Color3.fromRGB(38, 38, 48)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true

local function safeFindPart(character, partName)
    if not character then return nil end
    local part = character:FindFirstChild(partName)
    if part and part:IsA("BasePart") then
        return part
    end
    return nil
end

-- L·∫•y target g·∫ßn gi·ªØa m√†n h√¨nh nh·∫•t
local function getTargetInFront()
    local closest = nil
    local shortest = math.huge
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local character = player.Character
            local part = safeFindPart(character, aimPart)
            if part then
                local pos, visible = pcall(function()
                    return Camera:WorldToViewportPoint(part.Position)
                end)
                if pos and visible then
                    local screenPos, isVisible = pos, visible
                    if isVisible then
                        local dist = (Vector2.new(screenPos.X, screenPos.Y) - screenCenter).Magnitude
                        if dist < shortest then
                            shortest = dist
                            closest = player
                        end
                    end
                end
            end
        end
    end
    return closest
end

-- ƒê·∫£m b·∫£o CFrame set an to√†n
local function safeSetCamera(targetPos)
    pcall(function()
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, targetPos)
    end)
end

-- RenderStepped
RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        local target = getTargetInFront()
        if target ~= aimlockTarget then
            aimlockTarget = target
        end
        if aimlockTarget and aimlockTarget.Character then
            local part = safeFindPart(aimlockTarget.Character, aimPart)
            if part then
                safeSetCamera(part.Position)
            end
        end
    else
        aimlockTarget = nil
    end

    -- ƒê√°nh d∆∞·ªõi ch√¢n
    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local myHRP = safeFindPart(myChar, "HumanoidRootPart")
        local targetHRP = safeFindPart(underHitTarget.Character, "HumanoidRootPart")
        if myHRP and targetHRP then
            pcall(function()
                local pos = targetHRP.Position - Vector3.new(0, targetHRP.Size.Y/2 + 2, 0)
                myHRP.CFrame = CFrame.new(pos)
                myHRP.Transparency = 1
                myHRP.CanCollide = false
                myHRP.Size = Vector3.new(0.5, 0.5, 0.5)
            end)
        end
    elseif LocalPlayer.Character then
        local myHRP = safeFindPart(LocalPlayer.Character, "HumanoidRootPart")
        if myHRP then
            myHRP.Transparency = 0
            myHRP.CanCollide = true
            myHRP.Size = Vector3.new(2, 2, 1)
        end
    end
end)

-- B·∫°n nh·ªõ xem b√°o l·ªói c·ª• th·ªÉ KRNL hi·ªán ra d√≤ng n√†o ho·∫∑c message g√¨, ƒë·ªÉ m√¨nh fix ch√≠nh x√°c h∆°n nh√©.
frame.BackgroundColor3 = Color3.fromRGB(38, 38, 48)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
local corner = Instance.new("UICorner", frame)
corner.CornerRadius = UDim.new(0, 10)

-- Tab n√∫t
local tabAimbot = Instance.new("TextButton", frame)
tabAimbot.Size = UDim2.new(0.5, 0, 0, 35)
tabAimbot.Position = UDim2.new(0, 0, 0, 0)
tabAimbot.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
tabAimbot.TextColor3 = Color3.fromRGB(220, 220, 255)
tabAimbot.Font = Enum.Font.GothamBold
tabAimbot.TextSize = 18
tabAimbot.Text = "üéØ Aimbot"
tabAimbot.AutoButtonColor = false
local cornerTabAimbot = Instance.new("UICorner", tabAimbot)
cornerTabAimbot.CornerRadius = UDim.new(0, 10)

local tabUnder = Instance.new("TextButton", frame)
tabUnder.Size = UDim2.new(0.5, 0, 0, 35)
tabUnder.Position = UDim2.new(0.5, 0, 0, 0)
tabUnder.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
tabUnder.TextColor3 = Color3.fromRGB(220, 220, 255)
tabUnder.Font = Enum.Font.GothamBold
tabUnder.TextSize = 18
tabUnder.Text = "ü¶∂ ƒê√°nh d∆∞·ªõi ch√¢n"
tabUnder.AutoButtonColor = false
local cornerTabUnder = Instance.new("UICorner", tabUnder)
cornerTabUnder.CornerRadius = UDim.new(0, 10)

-- Panel Aimbot
local aimbotPanel = Instance.new("Frame", frame)
aimbotPanel.Size = UDim2.new(1, 0, 1, -35)
aimbotPanel.Position = UDim2.new(0, 0, 0, 35)
aimbotPanel.BackgroundTransparency = 1

local toggleAimbotBtn = Instance.new("TextButton", aimbotPanel)
toggleAimbotBtn.Size = UDim2.new(0.8, 0, 0, 40)
toggleAimbotBtn.Position = UDim2.new(0.1, 0, 0.1, 0)
toggleAimbotBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 120)
toggleAimbotBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleAimbotBtn.Font = Enum.Font.GothamBold
toggleAimbotBtn.TextSize = 20
toggleAimbotBtn.Text = "üéØ Toggle Aimbot"
local cornerToggleAimbot = Instance.new("UICorner", toggleAimbotBtn)
cornerToggleAimbot.CornerRadius = UDim.new(0, 8)

local aimbotStatus = Instance.new("TextLabel", aimbotPanel)
aimbotStatus.Size = UDim2.new(1, 0, 0, 30)
aimbotStatus.Position = UDim2.new(0, 0, 0.3, 0)
aimbotStatus.BackgroundTransparency = 1
aimbotStatus.TextColor3 = Color3.fromRGB(230, 230, 255)
aimbotStatus.Font = Enum.Font.GothamBold
aimbotStatus.TextSize = 18
aimbotStatus.Text = "Aimbot: OFF | Target: None"

-- Panel ƒê√°nh d∆∞·ªõi ch√¢n
local underPanel = Instance.new("Frame", frame)
underPanel.Size = UDim2.new(1, 0, 1, -35)
underPanel.Position = UDim2.new(0, 0, 0, 35)
underPanel.BackgroundTransparency = 1
underPanel.Visible = false

local toggleUnderBtn = Instance.new("TextButton", underPanel)
toggleUnderBtn.Size = UDim2.new(0.8, 0, 0, 40)
toggleUnderBtn.Position = UDim2.new(0.1, 0, 0.05, 0)
toggleUnderBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 120)
toggleUnderBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleUnderBtn.Font = Enum.Font.GothamBold
toggleUnderBtn.TextSize = 20
toggleUnderBtn.Text = "ü¶∂ Toggle ƒê√°nh d∆∞·ªõi ch√¢n"
local cornerToggleUnder = Instance.new("UICorner", toggleUnderBtn)
cornerToggleUnder.CornerRadius = UDim.new(0, 8)

local underStatus = Instance.new("TextLabel", underPanel)
underStatus.Size = UDim2.new(1, 0, 0, 30)
underStatus.Position = UDim2.new(0, 0, 0.3, 0)
underStatus.BackgroundTransparency = 1
underStatus.TextColor3 = Color3.fromRGB(230, 230, 255)
underStatus.Font = Enum.Font.GothamBold
underStatus.TextSize = 18
underStatus.Text = "UnderHit: OFF | Target: None"

local dropdownFrame = Instance.new("Frame", underPanel)
dropdownFrame.Size = UDim2.new(0.8, 0, 0, 130)
dropdownFrame.Position = UDim2.new(0.1, 0, 0.4, 0)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
dropdownFrame.BorderSizePixel = 0
local cornerDropdown = Instance.new("UICorner", dropdownFrame)
cornerDropdown.CornerRadius = UDim.new(0, 10)
dropdownFrame.ClipsDescendants = true

local scrollingFrame = Instance.new("ScrollingFrame", dropdownFrame)
scrollingFrame.Size = UDim2.new(1, 0, 1, 0)
scrollingFrame.BackgroundTransparency = 1
scrollingFrame.BorderSizePixel = 0
scrollingFrame.ScrollBarThickness = 6
scrollingFrame.AutomaticCanvasSize = Enum.AutomaticSize.Y

local UIListLayout = Instance.new("UIListLayout", scrollingFrame)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 4)

local refreshPlayersBtn = Instance.new("TextButton", underPanel)
refreshPlayersBtn.Size = UDim2.new(0.8, 0, 0, 35)
refreshPlayersBtn.Position = UDim2.new(0.1, 0, 0.85, 0)
refreshPlayersBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 130)
refreshPlayersBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
refreshPlayersBtn.Font = Enum.Font.GothamBold
refreshPlayersBtn.TextSize = 18
refreshPlayersBtn.Text = "üîÑ Refresh Player List"
local cornerRefresh = Instance.new("UICorner", refreshPlayersBtn)
cornerRefresh.CornerRadius = UDim.new(0, 8)

-- Toggle UI n√∫t b√™n d∆∞·ªõi frame
local toggleGuiBtn = Instance.new("TextButton", frame)
toggleGuiBtn.Size = UDim2.new(0.8, 0, 0, 28)
toggleGuiBtn.Position = UDim2.new(0.1, 0, 0.95, 0)
toggleGuiBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
toggleGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
toggleGuiBtn.Font = Enum.Font.GothamBold
toggleGuiBtn.TextSize = 16
toggleGuiBtn.Text = "üëÅ Toggle UI"
local cornerToggleGui = Instance.new("UICorner", toggleGuiBtn)
cornerToggleGui.CornerRadius = UDim.new(0, 8)

local showGuiBtn = Instance.new("TextButton", screenGui)
showGuiBtn.Size = UDim2.new(0, 120, 0, 30)
showGuiBtn.Position = UDim2.new(0, 10, 1, -40)
showGuiBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
showGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
showGuiBtn.Font = Enum.Font.GothamBold
showGuiBtn.TextSize = 16
showGuiBtn.Text = "üëÅ M·ªü l·∫°i UI"
showGuiBtn.Visible = false
local cornerShowGui = Instance.new("UICorner", showGuiBtn)
cornerShowGui.CornerRadius = UDim.new(0, 8)

-- Dropdown update
local function clearDropdown()
    for _, child in pairs(scrollingFrame:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

local function updateDropdown()
    clearDropdown()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -10, 0, 30)
            btn.BackgroundColor3 = Color3.fromRGB(80, 80, 130)
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 16
            btn.Text = player.Name
            btn.Parent = scrollingFrame
            btn.AutoButtonColor = true
            btn.ClipsDescendants = true
            btn.Name = player.Name
            local cornerBtn = Instance.new("UICorner", btn)
            cornerBtn.CornerRadius = UDim.new(0, 8)
            btn.MouseButton1Click:Connect(function()
                underHitTarget = player
                underStatus.Text = "UnderHit: ON | Target: " .. player.Name
            end)
        end
    end
    wait(0.1)
    scrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 5)
end

updateDropdown()

Players.PlayerAdded:Connect(updateDropdown)
Players.PlayerRemoving:Connect(function(player)
    if underHitTarget == player then
        underHitTarget = nil
        underStatus.Text = "UnderHit: ON | Target: None"
    end
    updateDropdown()
end)

-- Ch·ª©c nƒÉng toggle aimbot
toggleAimbotBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
        aimbotStatus.Text = "Aimbot: OFF | Target: None"
    end
end)

-- Ch·ª©c nƒÉng toggle underhit
toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        -- Reset HumanoidRootPart
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Transparency = 0
                hrp.CanCollide = true
                hrp.Size = Vector3.new(2, 2, 1)
            end
        end
        underHitTarget = nil
        underStatus.Text = "UnderHit: OFF | Target: None"
    else
        if underHitTarget then
            underStatus.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
        else
            underStatus.Text = "UnderHit: ON | Target: None"
        end
    end
end)

refreshPlayersBtn.MouseButton1Click:Connect(updateDropdown)

-- Chuy·ªÉn tab
tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
    tabAimbot.BackgroundColor3 = Color3.fromRGB(90, 90, 140)
    tabUnder.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
end)
tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
    tabUnder.BackgroundColor3 = Color3.fromRGB(90, 90, 140)
    tabAimbot.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
end)

-- Tween animate ·∫©n hi·ªán UI
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 360, 0, 280)
        frame.Position = UDim2.new(0.5, -180, 0.5, -140)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 360, 0, 280),
        Position = UDim2.new(0.5, -180, 0.5, -140),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    if guiVisible then
        animateShow()
        showGuiBtn.Visible = false
    else
        animateHide()
        showGuiBtn.Visible = true
    end
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

-- L·∫•y target g·∫ßn gi·ªØa m√†n h√¨nh nh·∫•t (aimbot)
local function getTargetInFront()
    local closest = nil
    local shortest = math.huge
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(aimPart) then
            local pos, visible = Camera:WorldToViewportPoint(player.Character[aimPart].Position)
            if visible then
                local dist = (Vector2.new(pos.X, pos.Y) - screenCenter).Magnitude
                if dist < shortest then
                    shortest = dist
                    closest = player
                end
            end
        end
    end
    return closest
end

-- RenderStepped ch·∫°y aimbot v√† ƒë√°nh d∆∞·ªõi ch√¢n
RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        local currentTarget = getTargetInFront()
        if currentTarget ~= aimlockTarget then
            aimlockTarget = currentTarget
        end
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            pcall(function()
                Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            end)
            aimbotStatus.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            aimbotStatus.Text = "Aimbot: ON | Target: None"
        end
    else
        aimlockTarget = nil
        aimbotStatus.Text = "Aimbot: OFF | Target: None"
    end

    -- ƒê√°nh d∆∞·ªõi ch√¢n
    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local hrp = myChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = underHitTarget.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then
            -- ƒê∆∞a m√¨nh ƒë·ª©ng s√°t d∆∞·ªõi ch√¢n target (ƒë√°nh d∆∞·ªõi ch√¢n)
            local newPos = targetHRP.Position - Vector3.new(0, (targetHRP.Size.Y/2 + 2), 0)
            hrp.CFrame = CFrame.new(newPos)
            -- Gi·∫£m hitbox c·ªßa m√¨nh ƒë·ªÉ kh√¥ng b·ªã ƒë√°nh l·∫°i (·∫©n v√† kh√¥ng va ch·∫°m)
            hrp.Transparency = 1
            hrp.CanCollide = false
            hrp.Size = Vector3.new(0.5, 0.5, 0.5)
        end
    elseif Local
-- Dropdown player ch·ªçn target ƒë√°nh d∆∞·ªõi ch√¢n
local dropdownFrame = Instance.new("Frame", underPanel)
dropdownFrame.Size = UDim2.new(0.8, 0, 0, 130)
dropdownFrame.Position = UDim2.new(0.1, 0, 0.4, 0)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
 refresh player list
refreshPlayersBtn.MouseButton1Click:Connect(function()
    updateDropdown()
end)

-- Chuy·ªÉn tab
tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
    tabAimbot.BackgroundColor3 = Color3.fromRGB(90, 90, 140)
    tabUnder.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
end)
tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
    tabUnder.BackgroundColor3 = Color3.fromRGB(90, 90, 140)
    tabAimbot.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
end)

-- Toggle UI hi·ªáu ·ª©ng tween
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 360, 0, 280)
        frame.Position = UDim2.new(0.5, -180, 0.5, -140)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 360, 0, 280),
        Position = UDim2.new(0.5, -180, 0.5, -140),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    if guiVisible then
        animateShow()
        showGuiBtn.Visible = false
    else
        animateHide()
        showGuiBtn.Visible = true
    end
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

-- H√†m l·∫•y m·ª•c ti√™u g·∫ßn m√†n h√¨nh nh·∫•t
local function getTargetInFront()
    local closest = nil
    local shortest = math.huge
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(aimPart) then
            local pos, visible = Camera:WorldToViewportPoint(player.Character[aimPart].Position)
            if visible then
                local dist = (Vector2.new(pos.X, pos.Y) - screenCenter).Magnitude
                if dist < shortest then
                    shortest = dist
                    closest = player
                end
            end
        end
    end
    return closest
end

-- RenderStepped ƒë·ªÉ ch·∫°y aimbot + ƒë√°nh d∆∞·ªõi ch√¢n
RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        local currentTarget = getTargetInFront()
        if currentTarget ~= aimlockTarget then
            aimlockTarget = currentTarget
        end
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            pcall(function()
                Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            end)
            aimbotStatus.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            aimbotStatus.Text = "Aimbot: ON | Target: None"
        end
    else
        aimlockTarget = nil
        aimbotStatus.Text = "Aimbot: OFF | Target: None"
    end

    -- ƒê√°nh d∆∞·ªõi ch√¢n
    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local hrp = myChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = underHitTarget.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then
            hrp.C
