local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera

local aimPart = "Head"
local aimbotEnabled = false
local underHitEnabled = false
local aimlockTarget = nil
local underHitTarget = nil
local guiVisible = true

local function getTargetInFront()
    local closest = nil
    local shortest = math.huge
    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)

    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(aimPart) then
            local pos, visible = Camera:WorldToViewportPoint(player.Character[aimPart].Position)
            if visible then
                local dist = (Vector2.new(pos.X, pos.Y) - screenCenter).Magnitude
                if dist < shortest then
                    shortest = dist
                    closest = player
                end
            end
        end
    end
    return closest
end

local screenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
screenGui.Name = "DarknessGodHUB"
screenGui.ResetOnSpawn = false

local frame = Instance.new("Frame", screenGui)
frame.Size = UDim2.new(0, 350, 0, 270)
frame.Position = UDim2.new(0.5, -175, 0.5, -135)
frame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
frame.BorderSizePixel = 0
frame.Active = true
frame.Draggable = true
Instance.new("UICorner", frame).CornerRadius = UDim.new(0, 8)

local tabAimbot = Instance.new("TextButton", frame)
tabAimbot.Size = UDim2.new(0.5, 0, 0, 30)
tabAimbot.Position = UDim2.new(0, 0, 0, 0)
tabAimbot.Text = "ðŸŽ¯ Aimbot"
tabAimbot.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
tabAimbot.TextColor3 = Color3.fromRGB(200, 200, 255)
tabAimbot.Font = Enum.Font.Gotham
tabAimbot.TextSize = 16
Instance.new("UICorner", tabAimbot).CornerRadius = UDim.new(0, 6)

local tabUnder = Instance.new("TextButton", frame)
tabUnder.Size = UDim2.new(0.5, 0, 0, 30)
tabUnder.Position = UDim2.new(0.5, 0, 0, 0)
tabUnder.Text = "ðŸ¦¶ ÄÃ¡nh dÆ°á»›i chÃ¢n"
tabUnder.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
tabUnder.TextColor3 = Color3.fromRGB(200, 200, 255)
tabUnder.Font = Enum.Font.Gotham
tabUnder.TextSize = 16
Instance.new("UICorner", tabUnder).CornerRadius = UDim.new(0, 6)

local aimbotPanel = Instance.new("Frame", frame)
aimbotPanel.Size = UDim2.new(1, 0, 1, -30)
aimbotPanel.Position = UDim2.new(0, 0, 0, 30)
aimbotPanel.BackgroundTransparency = 1

local toggleBtn = Instance.new("TextButton", aimbotPanel)
toggleBtn.Size = UDim2.new(0.8, 0, 0, 35)
toggleBtn.Position = UDim2.new(0.1, 0, 0.1, 0)
toggleBtn.Font = Enum.Font.Gotham
toggleBtn.TextSize = 18
toggleBtn.Text = "ðŸŽ¯ Toggle Aimbot"
toggleBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 100)
toggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", toggleBtn).CornerRadius = UDim.new(0, 6)

local statusLabel = Instance.new("TextLabel", aimbotPanel)
statusLabel.Size = UDim2.new(1, 0, 0, 30)
statusLabel.Position = UDim2.new(0, 0, 0.35, 0)
statusLabel.BackgroundTransparency = 1
statusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
statusLabel.Text = "Aimbot: OFF | Target: None"
statusLabel.Font = Enum.Font.Gotham

local underPanel = Instance.new("Frame", frame)
underPanel.Size = UDim2.new(1, 0, 1, -30)
underPanel.Position = UDim2.new(0, 0, 0, 30)
underPanel.BackgroundTransparency = 1
underPanel.Visible = false

local toggleUnderBtn = Instance.new("TextButton", underPanel)
toggleUnderBtn.Size = UDim2.new(0.8, 0, 0, 35)
toggleUnderBtn.Position = UDim2.new(0.1, 0, 0.05, 0)
toggleUnderBtn.Font = Enum.Font.Gotham
toggleUnderBtn.TextSize = 18
toggleUnderBtn.Text = "ðŸ¦¶ Toggle ÄÃ¡nh dÆ°á»›i chÃ¢n"
toggleUnderBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 100)
toggleUnderBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", toggleUnderBtn).CornerRadius = UDim.new(0, 6)

local refreshPlayersBtn = Instance.new("TextButton", underPanel)
refreshPlayersBtn.Size = UDim2.new(0.8, 0, 0, 30)
refreshPlayersBtn.Position = UDim2.new(0.1, 0, 0.45, 0)
refreshPlayersBtn.Font = Enum.Font.Gotham
refreshPlayersBtn.TextSize = 16
refreshPlayersBtn.Text = "ðŸ”„ Refresh Player List"
refreshPlayersBtn.BackgroundColor3 = Color3.fromRGB(70, 70, 120)
refreshPlayersBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", refreshPlayersBtn).CornerRadius = UDim.new(0, 6)

local underStatusLabel = Instance.new("TextLabel", underPanel)
underStatusLabel.Size = UDim2.new(1, 0, 0, 30)
underStatusLabel.Position = UDim2.new(0, 0, 0.13, 0)
underStatusLabel.BackgroundTransparency = 1
underStatusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
underStatusLabel.Text = "UnderHit: OFF | Target: None"
underStatusLabel.Font = Enum.Font.Gotham

local dropdownFrame = Instance.new("Frame", underPanel)
dropdownFrame.Size = UDim2.new(0.8, 0, 0, 120)
dropdownFrame.Position = UDim2.new(0.1, 0, 0.55, 0)
dropdownFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
dropdownFrame.BorderSizePixel = 0
Instance.new("UICorner", dropdownFrame).CornerRadius = UDim.new(0, 6)
dropdownFrame.ClipsDescendants = true

local dropdownList = Instance.new("ScrollingFrame", dropdownFrame)
dropdownList.Size = UDim2.new(1, 0, 1, 0)
dropdownList.CanvasSize = UDim2.new(0, 0, 0, 0)
dropdownList.ScrollBarThickness = 6
dropdownList.BackgroundTransparency = 1
dropdownList.BorderSizePixel = 0
dropdownList.AutomaticCanvasSize = Enum.AutomaticSize.Y

local UIListLayout = Instance.new("UIListLayout", dropdownList)
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 2)

local toggleGuiBtn = Instance.new("TextButton", frame)
toggleGuiBtn.Size = UDim2.new(0.8, 0, 0, 25)
toggleGuiBtn.Position = UDim2.new(0.1, 0, 0.92, 0)
toggleGuiBtn.Text = "ðŸ‘ Toggle UI"
toggleGuiBtn.Font = Enum.Font.Gotham
toggleGuiBtn.TextSize = 14
toggleGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
toggleGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", toggleGuiBtn).CornerRadius = UDim.new(0, 6)

local showGuiBtn = Instance.new("TextButton", screenGui)
showGuiBtn.Size = UDim2.new(0, 120, 0, 30)
showGuiBtn.Position = UDim2.new(0, 10, 1, -40)
showGuiBtn.Text = "ðŸ‘ Má»Ÿ láº¡i UI"
showGuiBtn.Font = Enum.Font.Gotham
showGuiBtn.TextSize = 14
showGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
showGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
showGuiBtn.Visible = false
Instance.new("UICorner", showGuiBtn).CornerRadius = UDim.new(0, 6)

local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 270)
        frame.Position = UDim2.new(0.5, -175, 0.5, -135)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 270),
        Position = UDim2.new(0.5, -175, 0.5, -135),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

local function clearDropdown()
    for _, child in pairs(dropdownList:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

local function updateDropdown()
    clearDropdown()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -4, 0, 30)
            btn.BackgroundColor3 = Color3.fromRGB(55, 55, 90)
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 16
            btn.Text = player.Name
            btn.Parent = dropdownList
            btn.AutoButtonColor = true
            btn.ClipsDescendants = true
            btn.Name = player.Name
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
            btn.MouseButton1Click:Connect(function()
                underHitTarget = player
                underStatusLabel.Text = "UnderHit: ON | Target: " .. player.Name
            end)
        end
    end
    wait(0.1)
    dropdownList.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 5)
end

-- Láº§n Ä‘áº§u cáº­p nháº­t danh sÃ¡ch player
updateDropdown()

-- Cáº­p nháº­t khi player join/leave
Players.PlayerAdded:Connect(updateDropdown)
Players.PlayerRemoving:Connect(function(player)
    if underHitTarget == player then
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    end
    updateDropdown()
end)

toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
    end
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    else
        if underHitTarget then
            underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    end
end)

refreshPlayersBtn.MouseButton1Click:Connect(function()
    updateDropdown()
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    if guiVisible then
        animateShow()
        showGuiBtn.Visible = false
    else
        animateHide()
        showGuiBtn.Visible = true
    end
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if not aimbotEnabled then
            aimlockTarget = nil
        end
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then
            animateShow()
            showGuiBtn.Visible = false
        else
            animateHide()
            showGuiBtn.Visible = true
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if aimbotEnabled then
        local currentTarget = getTargetInFront()
        if currentTarget ~= aimlockTarget then
            aimlockTarget = currentTarget
        end
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            statusLabel.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            statusLabel.Text = "Aimbot: ON | Target: None"
        end
    else
        aimlockTarget = nil
        statusLabel.Text = "Aimbot: OFF | Target: None"
    end

    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local hrp = myChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = underHitTarget.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then
            hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
            hrp.Size = Vector3.new(1, 1, 1)
            hrp.Transparency = 1
            hrp.CanCollide = false
        end
        underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
    elseif underHitEnabled then
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    else
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    end
end)

print("âœ… DarknessGodHUB Ä‘Ã£ load: Aimbot + ÄÃ¡nh dÆ°á»›i chÃ¢n + Refresh Player + UI hiá»‡u á»©ng mÆ°á»£t.")
 = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 270)
        frame.Position = UDim2.new(0.5, -175, 0.5, -135)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 270),
        Position = UDim2.new(0.5, -175, 0.5, -135),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

local function clearDropdown()
    for _, child in pairs(dropdownList:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

local function updateDropdown()
    clearDropdown()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -4, 0, 30)
            btn.BackgroundColor3 = Color3.fromRGB(55, 55, 90)
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 16
            btn.Text = player.Name
            btn.Parent = dropdownList
            btn.AutoButtonColor = true
            btn.ClipsDescendants = true
            btn.Name = player.Name
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
            btn.MouseButton1Click:Connect(function()
                underHitTarget = player
                underStatusLabel.Text = "UnderHit: ON | Target: " .. player.Name
            end)
        end
    end
    wait(0.1)
    dropdownList.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 5)
end

-- Láº§n Ä‘áº§u cáº­p nháº­t danh sÃ¡ch player
updateDropdown()

-- Cáº­p nháº­t khi player join/leave
Players.PlayerAdded:Connect(updateDropdown)
Players.PlayerRemoving:Connect(function(player)
    if underHitTarget == player then
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    end
    updateDropdown()
end)

toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
    end
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    else
        if underHitTarget then
            underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    end
end)

refreshPlayersBtn.MouseButton1Click:Connect(function()
    updateDropdown()
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = not guiVisible
    if guiVisible then
        animateShow()
        showGuiBtn.Visible = false
    else
        animateHide()
        showGuiBtn.Visible = true
    end
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if not aimbotEnabled then
            aimlockTarget = nil
        end
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then
            animateShow()
            showGuiBtn.Visible = false
        else
            animateHide()
            showGuiBtn.Visible = true
        end
    end
end)

RunService.RenderStepped:Connect(function()
    if aimbotEnabled then
        local currentTarget = getTargetInFront()
        if currentTarget ~= aimlockTarget then
            aimlockTarget = currentTarget
        end
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            statusLabel.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            statusLabel.Text = "Aimbot: ON | Target: None"
        end
    else
        aimlockTarget = nil
        statusLabel.Text = "Aimbot: OFF | Target: None"
    end

    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local hrp = myChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = underHitTarget.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then
            hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
            hrp.Size = Vector3.new(1, 1, 1)
            hrp.Transparency = 1
            hrp.CanCollide = false
        end
        underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
    elseif underHitEnabled then
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    else
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    end
end)

print("âœ… DarknessGodHUB Ä‘Ã£ load: Aimbot + ÄÃ¡nh dÆ°á»›i chÃ¢n + Refresh Player + UI hiá»‡u á»©ng mÆ°á»£t.")
toggleGuiBtn.Size = UDim2.new(0.8, 0, 0, 25)
toggleGuiBtn.Position = UDim2.new(0.1, 0, 0.92, 0)
toggleGuiBtn.Text = "ðŸ‘ áº¨n UI"
toggleGuiBtn.Font = Enum.Font.Gotham
toggleGuiBtn.TextSize = 14
toggleGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
toggleGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", toggleGuiBtn).CornerRadius = UDim.new(0, 6)

-- Show UI Button
local showGuiBtn = Instance.new("TextButton", screenGui)
showGuiBtn.Size = UDim2.new(0, 120, 0, 30)
showGuiBtn.Position = UDim2.new(0, 10, 1, -40)
showGuiBtn.Text = "ðŸ‘ Má»Ÿ láº¡i UI"
showGuiBtn.Font = Enum.Font.Gotham
showGuiBtn.TextSize = 14
showGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
showGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
showGuiBtn.Visible = false
Instance.new("UICorner", showGuiBtn).CornerRadius = UDim.new(0, 6)

-- === Hoáº¡t áº£nh UI ===
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 270)
        frame.Position = UDim2.new(0.5, -175, 0.5, -135)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 270),
        Position = UDim2.new(0.5, -175, 0.5, -135),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- HÃ m xÃ³a háº¿t nÃºt trong dropdown
local function clearDropdown()
    for _, child in pairs(dropdownList:GetChildren()) do
        if child:IsA("TextButton") then
            child:Destroy()
        end
    end
end

-- HÃ m cáº­p nháº­t danh sÃ¡ch player trong dropdown
local function updateDropdown()
    clearDropdown()
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton")
            btn.Size = UDim2.new(1, -4, 0, 30)
            btn.BackgroundColor3 = Color3.fromRGB(55, 55, 90)
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 16
            btn.Text = player.Name
            btn.Parent = dropdownList
            btn.AutoButtonColor = true
            btn.ClipsDescendants = true
            btn.Name = player.Name
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)
            btn.MouseButton1Click:Connect(function()
                underHitTarget = player
                underStatusLabel.Text = "UnderHit: ON | Target: " .. player.Name
            end)
        end
    end
    wait(0.1)
    -- TÃ­nh kÃ­ch thÆ°á»›c canvas cho dropdownList
    dropdownList.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 5)
end

-- Láº§n Ä‘áº§u cáº­p nháº­t dropdown
updateDropdown()

-- Cáº­p nháº­t dropdown khi cÃ³ player join/leave
Players.PlayerAdded:Connect(function()
    updateDropdown()
end)

Players.PlayerRemoving:Connect(function()
    if underHitTarget and not Players:FindFirstChild(underHitTarget.Name) then
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    end
    updateDropdown()
end)

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
    end
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
        underHitTarget = nil
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    else
        if underHitTarget then
            underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    end
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if not aimbotEnabled then
            aimlockTarget = nil
        end
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then
            animateShow()
        else
            animateHide()
        end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        local currentTarget = getTargetInFront()
        if currentTarget ~= aimlockTarget then
            aimlockTarget = currentTarget
        end

        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            statusLabel.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            statusLabel.Text = "Aimbot: ON | Target: None"
        end
    else
        aimlockTarget = nil
        statusLabel.Text = "Aimbot: OFF | Target: None"
    end

    -- ÄÃ¡nh dÆ°á»›i chÃ¢n (dá»±a vÃ o underHitTarget Ä‘Æ°á»£c chá»n)
    if underHitEnabled and underHitTarget and underHitTarget.Character and LocalPlayer.Character then
        local myChar = LocalPlayer.Character
        local hrp = myChar:FindFirstChild("HumanoidRootPart")
        local targetHRP = underHitTarget.Character:FindFirstChild("HumanoidRootPart")
        if hrp and targetHRP then
            hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
            hrp.Size = Vector3.new(1, 1, 1)
            hrp.Transparency = 1
            hrp.CanCollide = false
        end
        underStatusLabel.Text = "UnderHit: ON | Target: " .. underHitTarget.Name
    elseif underHitEnabled then
        underStatusLabel.Text = "UnderHit: ON | Target: None"
    else
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    end
end)

print("âœ… DarknessGodHUB Ä‘Ã£ load: Aimbot + ÄÃ¡nh dÆ°á»›i chÃ¢n cÃ³ chá»n player + UI hiá»‡u á»©ng mÆ°á»£t.")
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 220)
        frame.Position = UDim2.new(0.5, -175, 0.5, -110)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 220),
        Position = UDim2.new(0.5, -175, 0.5, -110),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
    end
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
    end
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if not aimbotEnabled then
            aimlockTarget = nil
        end
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then
            animateShow()
        else
            animateHide()
        end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        aimlockTarget = getTargetInFront()
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            statusLabel.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            statusLabel.Text = "Aimbot: ON | Target: None"
        end
    else
        statusLabel.Text = "Aimbot: OFF | Target: None"
    end

    -- ÄÃ¡nh dÆ°á»›i chÃ¢n
    if underHitEnabled then
        local target = getTargetInFront()
        local myChar = LocalPlayer.Character
        if target and target.Character and myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
            if hrp and targetHRP then
                hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
                hrp.Size = Vector3.new(1, 1, 1)
                hrp.Transparency = 1
                hrp.CanCollide = false
            end
            underStatusLabel.Text = "UnderHit: ON | Target: " .. target.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    else
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    end
end)

print("âœ… GODHUB v3 Ä‘Ã£ load: Aimbot + ÄÃ¡nh dÆ°á»›i chÃ¢n + UI hiá»‡u á»©ng mÆ°á»£t.")

local underStatusLabel = Instance.new("TextLabel", underPanel)
underStatusLabel.Size = UDim2.new(1, 0, 0, 30)
underStatusLabel.Position = UDim2.new(0, 0, 0.35, 0)
underStatusLabel.BackgroundTransparency = 1
underStatusLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
underStatusLabel.Text = "UnderHit: OFF | Target: None"
underStatusLabel.Font = Enum.Font.Gotham

-- TOGGLE GUI
local toggleGuiBtn = Instance.new("TextButton", frame)
toggleGuiBtn.Size = UDim2.new(0.8, 0, 0, 25)
toggleGuiBtn.Position = UDim2.new(0.1, 0, 0.8, 0)
toggleGuiBtn.Text = "ðŸ‘ áº¨n UI"
toggleGuiBtn.Font = Enum.Font.Gotham
toggleGuiBtn.TextSize = 14
toggleGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
toggleGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", toggleGuiBtn).CornerRadius = UDim.new(0, 6)

-- Show UI Button
local showGuiBtn = Instance.new("TextButton", screenGui)
showGuiBtn.Size = UDim2.new(0, 120, 0, 30)
showGuiBtn.Position = UDim2.new(0, 10, 1, -40)
showGuiBtn.Text = "ðŸ‘ Má»Ÿ láº¡i UI"
showGuiBtn.Font = Enum.Font.Gotham
showGuiBtn.TextSize = 14
showGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
showGuiBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
showGuiBtn.Visible = false
Instance.new("UICorner", showGuiBtn).CornerRadius = UDim.new(0, 6)

-- === Hoáº¡t áº£nh UI ===
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 220)
        frame.Position = UDim2.new(0.5, -175, 0.5, -110)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 220),
        Position = UDim2.new(0.5, -175, 0.5, -110),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if not aimbotEnabled then
        aimlockTarget = nil
    end
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
    end
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if not aimbotEnabled then
            aimlockTarget = nil
        end
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then
            animateShow()
        else
            animateHide()
        end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled then
        aimlockTarget = getTargetInFront()
        if aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
            statusLabel.Text = "Aimbot: ON | Target: " .. aimlockTarget.Name
        else
            statusLabel.Text = "Aimbot: ON | Target: None"
        end
    else
        statusLabel.Text = "Aimbot: OFF | Target: None"
    end

    -- ÄÃ¡nh dÆ°á»›i chÃ¢n
    if underHitEnabled then
        local target = getTargetInFront()
        local myChar = LocalPlayer.Character
        if target and target.Character and myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
            if hrp and targetHRP then
                hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
                hrp.Size = Vector3.new(1, 1, 1)
                hrp.Transparency = 1
                hrp.CanCollide = false
            end
            underStatusLabel.Text = "UnderHit: ON | Target: " .. target.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    else
        underStatusLabel.Text = "UnderHit: OFF | Target: None"
    end
end)

print("âœ… GODHUB v3 Ä‘Ã£ load: Aimbot + ÄÃ¡nh dÆ°á»›i chÃ¢n + UI hiá»‡u á»©ng mÆ°á»£t.")
-- === Hoáº¡t áº£nh UI ===
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 220)
        frame.Position = UDim2.new(0.5, -175, 0.5, -110)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 220),
        Position = UDim2.new(0.5, -175, 0.5, -110),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    if aimbotEnabled then
        aimlockTarget = getTargetInFront()
    else
        aimlockTarget = nil
    end
    local name = aimlockTarget and aimlockTarget.Name or "None"
    statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    if not underHitEnabled then
        -- Khi táº¯t UnderHit, khÃ´i phá»¥c HRP kÃ­ch thÆ°á»›c vÃ  tÃ­nh nÄƒng
        local myChar = LocalPlayer.Character
        if myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            if hrp then
                hrp.Size = Vector3.new(2, 2, 1)
                hrp.Transparency = 0
                hrp.CanCollide = true
            end
        end
    end
    underStatusLabel.Text = "UnderHit: " .. (underHitEnabled and "ON" or "OFF") .. " | Target: None"
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        if aimbotEnabled then
            aimlockTarget = getTargetInFront()
        else
            aimlockTarget = nil
        end
        local name = aimlockTarget and aimlockTarget.Name or "None"
        statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then animateShow() else animateHide() end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    -- Aimbot
    if aimbotEnabled and aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
    end

    -- ÄÃ¡nh dÆ°á»›i chÃ¢n
    if underHitEnabled then
        local target = getTargetInFront()
        local myChar = LocalPlayer.Character
        if target and target.Character and myChar then
            local hrp = myChar:FindFirstChild("HumanoidRootPart")
            local targetHRP = target.Character:FindFirstChild("HumanoidRootPart")
            if hrp and targetHRP then
                -- Tele xuá»‘ng dÆ°á»›i chÃ¢n Ä‘á»‘i thá»§
                hrp.CFrame = targetHRP.CFrame * CFrame.new(0, -5, 0)
                -- Thu nhá» vÃ  áº©n HRP giáº£m bá»‹ Ä‘Ã¡nh trÃºng
                hrp.Size = Vector3.new(1, 1, 1)
                hrp.Transparency = 1
                hrp.CanCollide = false
            end
            underStatusLabel.Text = "UnderHit: ON | Target: " .. target.Name
        else
            underStatusLabel.Text = "UnderHit: ON | Target: None"
        end
    end
end)

print("âœ… GODHUB v3 Ä‘Ã£ load Ä‘áº§y Ä‘á»§: Aimbot + UnderHit (áº©n hitbox) + UI hiá»‡u á»©ng mÆ°á»£t.")
-- === Hoáº¡t áº£nh UI ===
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 220)
        frame.Position = UDim2.new(0.5, -175, 0.5, -110)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 220),
        Position = UDim2.new(0.5, -175, 0.5, -110),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    aimlockTarget = getTargetInFront()
    local name = aimlockTarget and aimlockTarget.Name or "None"
    statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    underStatusLabel.Text = "UnderHit: " .. (underHitEnabled and "ON" or "OFF") .. " | Target: None"
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        aimlockTarget = getTargetInFront()
        local name = aimlockTarget and aimlockTarget.Name or "None"
        statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then animateShow() else animateHide() end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    if aimbotEnabled and aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
    end

    if underHitEnabled then
        local target = getTargetInFront()
        if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") and LocalPlayer.Character then
            local myHRP = LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            local enemyHRP = target.Character:FindFirstChild("HumanoidRootPart")
            if myHRP and enemyHRP then
                myHRP.CFrame = enemyHRP.CFrame * CFrame.new(0, -5, 0)
                underStatusLabel.Text = "UnderHit: ON | Target: " .. target.Name
            end
        end
    end
end)

print("âœ… GODHUB v2 Ä‘Ã£ load Ä‘áº§y Ä‘á»§: Aimbot + UnderHit + UI hiá»‡u á»©ng mÆ°á»£t.")
