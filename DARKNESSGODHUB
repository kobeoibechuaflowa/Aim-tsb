-- DarknessGodHub - Aimlock + UI Toggle + Body Lock
-- Made for The Strongest Battlegrounds
-- B·∫≠t/t·∫Øt Aimlock: ph√≠m E ho·∫∑c n√∫t trong UI
-- M·ªü/ƒë√≥ng UI: thanh nh·ªè ngo√†i m√†n h√¨nh

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")

-- ================== SETTINGS ==================
local aimKey = Enum.KeyCode.E
local aimRadius = 50 -- px tr√™n m√†n h√¨nh
local aimPartName = "HumanoidRootPart"
-- ===============================================

local aiming = false
local target = nil

-- UI Elements
local ScreenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
ScreenGui.ResetOnSpawn = false

-- Thanh nh·ªè ngo√†i m√†n h√¨nh
local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0, 120, 0, 35)
ToggleButton.Position = UDim2.new(0, 20, 0.5, -17)
ToggleButton.Text = "DarknessGodHub"
ToggleButton.BackgroundColor3 = Color3.fromRGB(0, 255, 170)
ToggleButton.TextColor3 = Color3.new(0, 0, 0)
ToggleButton.Font = Enum.Font.GothamBold
ToggleButton.TextSize = 14
ToggleButton.Parent = ScreenGui
ToggleButton.Active = true
ToggleButton.Draggable = true

-- Hub ch√≠nh
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.BorderSizePixel = 0
MainFrame.Visible = false
MainFrame.Parent = ScreenGui
MainFrame.Active = true
MainFrame.Draggable = true

-- Ti√™u ƒë·ªÅ
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundTransparency = 1
Title.Text = "DarknessGodHub"
Title.TextColor3 = Color3.fromRGB(0, 255, 170)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Parent = MainFrame

-- N√∫t b·∫≠t/t·∫Øt Aimlock
local AimButton = Instance.new("TextButton")
AimButton.Size = UDim2.new(0, 120, 0, 40)
AimButton.Position = UDim2.new(0.5, -60, 0.5, -20)
AimButton.Text = "Aimlock: OFF"
AimButton.BackgroundColor3 = Color3.fromRGB(0, 255, 170)
AimButton.TextColor3 = Color3.new(0, 0, 0)
AimButton.Font = Enum.Font.GothamBold
AimButton.TextSize = 16
AimButton.Parent = MainFrame

-- Tween m·ªü/ƒë√≥ng Hub
local function toggleHub(state)
	MainFrame.Visible = true
	if state then
		MainFrame.Size = UDim2.new(0, 0, 0, 0)
		MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
		local tween = TweenService:Create(MainFrame, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
			Size = UDim2.new(0, 300, 0, 200),
			Position = UDim2.new(0.5, -150, 0.5, -100)
		})
		tween:Play()
	else
		local tween = TweenService:Create(MainFrame, TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			Size = UDim2.new(0, 0, 0, 0),
			Position = UDim2.new(0.5, 0, 0.5, 0)
		})
		tween:Play()
		tween.Completed:Connect(function()
			MainFrame.Visible = false
		end)
	end
end

-- S·ª± ki·ªán click thanh ngo√†i
local hubOpen = false
ToggleButton.MouseButton1Click:Connect(function()
	hubOpen = not hubOpen
	toggleHub(hubOpen)
end)

-- N√∫t b·∫≠t/t·∫Øt Aimlock
AimButton.MouseButton1Click:Connect(function()
	aiming = not aiming
	AimButton.Text = "Aimlock: " .. (aiming and "ON" or "OFF")
end)

-- Ph√≠m t·∫Øt b·∫≠t/t·∫Øt Aimlock
UIS.InputBegan:Connect(function(input, gpe)
	if not gpe and input.KeyCode == aimKey then
		aiming = not aiming
		AimButton.Text = "Aimlock: " .. (aiming and "ON" or "OFF")
	end
end)

-- H√†m t√¨m target tr∆∞·ªõc m·∫∑t
local function getClosestPlayer()
	local closest, dist = nil, aimRadius
	for _, p in ipairs(Players:GetPlayers()) do
		if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild(aimPartName) then
			local pos, onScreen = Camera:WorldToViewportPoint(p.Character[aimPartName].Position)
			if onScreen then
				local vec = Vector2.new(pos.X - UIS:GetMouseLocation().X, pos.Y - UIS:GetMouseLocation().Y)
				local mag = vec.Magnitude
				if mag < dist then
					dist = mag
					closest = p
				end
			end
		end
	end
	return closest
end

-- Aimlock loop
RunService.RenderStepped:Connect(function()
	if aiming then
		local t = getClosestPlayer()
		if t and t.Character and t.Character:FindFirstChild(aimPartName) then
			Camera.CFrame = CFrame.new(Camera.CFrame.Position, t.Character[aimPartName].Position)
		end
	end
end)
        task.wait(0.3)
        HubFrame.Visible = false
    end
end)

--== Ph√≠m t·∫Øt Aimlock ==--
UIS.InputBegan:Connect(function(input, gp)
    if not gp and input.KeyCode == AimKey then
        ToggleAimlock(not AimlockEnabled)
    end
end)
¬† ¬† ¬† ¬† end
¬† ¬† ¬† ¬† for _, button in pairs(tabFrame:GetChildren()) do
¬† ¬† ¬† ¬† ¬† ¬† if button:IsA("TextButton") then
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† button.TextColor3 = button.Name == name .. "Btn" and Color3.fromRGB(0, 255, 255) or Color3.fromRGB(180, 180, 180)
¬† ¬† ¬† ¬† ¬† ¬† end
¬† ¬† ¬† ¬† end
¬† ¬† end)
¬† ¬† return btn
end

-- Tabs Content

-- Aimlock Tab
local aimTab = Instance.new("Frame", contentFrame)
aimTab.Name = "Aimlock"
aimTab.Size = UDim2.new(1, 0, 1, 0)
aimTab.BackgroundTransparency = 1
aimTab.Visible = true

local aimToggleBtn = Instance.new("TextButton", aimTab)
aimToggleBtn.Size = UDim2.new(0, 180, 0, 40)
aimToggleBtn.Position = UDim2.new(0, 15, 0, 15)
aimToggleBtn.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
aimToggleBtn.Text = "Aimlock: OFF"
aimToggleBtn.Font = Enum.Font.GothamBold
aimToggleBtn.TextSize = 18
aimToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
aimToggleBtn.BorderSizePixel = 0
local aimToggleCorner = Instance.new("UICorner", aimToggleBtn)
aimToggleCorner.CornerRadius = UDim.new(0, 8)

aimToggleBtn.MouseButton1Click:Connect(function()
¬† ¬† aimEnabled = not aimEnabled
¬† ¬† aimToggleBtn.Text = aimEnabled and "Aimlock: ON" or "Aimlock: OFF"
¬† ¬† aimToggleBtn.BackgroundColor3 = aimEnabled and Color3.fromRGB(0, 255, 180) or Color3.fromRGB(0, 180, 255)
end)

local aimDesc = Instance.new("TextLabel", aimTab)
aimDesc.Size = UDim2.new(1, -30, 0, 60)
aimDesc.Position = UDim2.new(0, 15, 0, 65)
aimDesc.BackgroundTransparency = 1
aimDesc.Text = "Aimlock s·∫Ω t·ª± ƒë·ªông kh√≥a camera v√†o ph·∫ßn th√¢n ng∆∞·ªùi ch∆°i tr∆∞·ªõc m·∫∑t b·∫°n trong ph·∫°m vi 50 studs.\nB·∫≠t/t·∫Øt b·∫±ng n√∫t tr√™n."
aimDesc.TextColor3 = Color3.fromRGB(200, 200, 200)
aimDesc.TextWrapped = true
aimDesc.Font = Enum.Font.Gotham
aimDesc.TextSize = 14

-- Settings Tab
local settingsTab = Instance.new("Frame", contentFrame)
settingsTab.Name = "Settings"
settingsTab.Size = UDim2.new(1, 0, 1, 0)
settingsTab.BackgroundTransparency = 1
settingsTab.Visible = false

local settingsLabel = Instance.new("TextLabel", settingsTab)
settingsLabel.Size = UDim2.new(1, -30, 0, 40)
settingsLabel.Position = UDim2.new(0, 15, 0, 15)
settingsLabel.BackgroundTransparency = 1
settingsLabel.Text = "C√†i ƒë·∫∑t s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t sau..."
settingsLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
settingsLabel.Font = Enum.Font.Gotham
settingsLabel.TextSize = 16

-- Create tab buttons
local tabAimBtn = createTabButton("Aimlock", 1)
local tabSettingsBtn = createTabButton("Settings", 2)

-- Default tab colors
tabAimBtn.TextColor3 = Color3.fromRGB(0, 255, 255)

-- Dragging logic for hubFrame
do
¬† ¬† local dragging = false
¬† ¬† local dragInput
¬† ¬† local dragStart
¬† ¬† local startPos

¬† ¬† local function update(input)
¬† ¬† ¬† ¬† local delta = input.Position - dragStart
¬† ¬† ¬† ¬† hubFrame.Position = UDim2.new(
¬† ¬† ¬† ¬† ¬† ¬† startPos.X.Scale,
¬† ¬† ¬† ¬† ¬† ¬† startPos.X.Offset + delta.X,
¬† ¬† ¬† ¬† ¬† ¬† startPos.Y.Scale,
¬† ¬† ¬† ¬† ¬† ¬† startPos.Y.Offset + delta.Y
¬† ¬† ¬† ¬† )
¬† ¬† end

¬† ¬† hubFrame.InputBegan:Connect(function(input)
¬† ¬† ¬† ¬† if input.UserInputType == Enum.UserInputType.MouseButton1 then
¬† ¬† ¬† ¬† ¬† ¬† dragging = true
¬† ¬† ¬† ¬† ¬† ¬† dragInput = input
¬† ¬† ¬† ¬† ¬† ¬† dragStart = input.Position
¬† ¬† ¬† ¬† ¬† ¬† startPos = hubFrame.Position

¬† ¬† ¬† ¬† ¬† ¬† input.Changed:Connect(function()
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† if input.UserInputState == Enum.UserInputState.End then
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† dragging = false
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† end
¬† ¬† ¬† ¬† ¬† ¬† end)
¬† ¬† ¬† ¬† end
¬† ¬† end)

¬† ¬† hubFrame.InputChanged:Connect(function(input)
¬† ¬† ¬† ¬† if input == dragInput then
¬† ¬† ¬† ¬† ¬† ¬† update(input)
¬† ¬† ¬† ¬† end
¬† ¬† end)
end

-- Toggle hub show/hide ngay l·∫≠p t·ª©c (no animation)
local function showHub()
¬† ¬† hubFrame.Visible = true
¬† ¬† hubFrame.Size = UDim2.new(0, 480, 0, 320)
¬† ¬† hubFrame.Position = UDim2.new(1, -490, 0, 40)
end

local function hideHub()
¬† ¬† hubFrame.Visible = false
end

local hubOpen = false

local function toggleHub()
¬† ¬† if hubOpen then
¬† ¬† ¬† ¬† hideHub()
¬† ¬† else
¬† ¬† ¬† ¬† showHub()
¬† ¬† end
¬† ¬† hubOpen = not hubOpen
end

-- Connect floating bar click
floatBar.MouseButton1Click:Connect(toggleHub)

-- Connect close button click
closeBtn.MouseButton1Click:Connect(function()
¬† ¬† if hubOpen then
¬† ¬† ¬† ¬† toggleHub()
¬† ¬† end
end)

-- Aimlock logic
local function getTarget()
¬† ¬† local char = player.Character
¬† ¬† if not char or not char:FindFirstChild(aimPartName) then return nil end
¬† ¬† local camCF = camera.CFrame
¬† ¬† local closest, closestDot = nil, aimMinDot
¬† ¬† for _, plr in pairs(Players:GetPlayers()) do
¬† ¬† ¬† ¬† if plr ~= player and plr.Character and plr.Character:FindFirstChild(aimPartName) then
¬† ¬† ¬† ¬† ¬† ¬† local hrp = plr.Character[aimPartName]
¬† ¬† ¬† ¬† ¬† ¬† local dir = (hrp.Position - camera.CFrame.Position).Unit
¬† ¬† ¬† ¬† ¬† ¬† local dot = dir:Dot(camCF.LookVector)
¬† ¬† ¬† ¬† ¬† ¬† local dist = (hrp.Position - char.HumanoidRootPart.Position).Magnitude
¬† ¬† ¬† ¬† ¬† ¬† if dot > closestDot and dist <= aimRange then
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† closestDot = dot
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† closest = hrp
¬† ¬† ¬† ¬† ¬† ¬† end
¬† ¬† ¬† ¬† end
¬† ¬† end
¬† ¬† return closest
end

RunService.RenderStepped:Connect(function()
¬† ¬† if aimEnabled then
¬† ¬† ¬† ¬† local target = getTarget()
¬† ¬† ¬† ¬† if target then
¬† ¬† ¬† ¬† ¬† ¬† local camPos = camera.CFrame.Position
¬† ¬† ¬† ¬† ¬† ¬† local newCF = CFrame.new(camPos, target.Position)
¬† ¬† ¬† ¬† ¬† ¬† camera.CFrame = newCF
¬† ¬† ¬† ¬† end
¬† ¬† end
end)

print("DarknessGodHub loaded.")
    return btn
end

-- Tabs Content

-- Aimlock Tab
local aimTab = Instance.new("Frame", contentFrame)
aimTab.Name = "Aimlock"
aimTab.Size = UDim2.new(1, 0, 1, 0)
aimTab.BackgroundTransparency = 1
aimTab.Visible = true

local aimToggleBtn = Instance.new("TextButton", aimTab)
aimToggleBtn.Size = UDim2.new(0, 180, 0, 40)
aimToggleBtn.Position = UDim2.new(0, 15, 0, 15)
aimToggleBtn.BackgroundColor3 = Color3.fromRGB(0, 180, 255)
aimToggleBtn.Text = "Aimlock: OFF"
aimToggleBtn.Font = Enum.Font.GothamBold
aimToggleBtn.TextSize = 18
aimToggleBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
aimToggleBtn.BorderSizePixel = 0
local aimToggleCorner = Instance.new("UICorner", aimToggleBtn)
aimToggleCorner.CornerRadius = UDim.new(0, 8)

aimToggleBtn.MouseButton1Click:Connect(function()
    aimEnabled = not aimEnabled
    aimToggleBtn.Text = aimEnabled and "Aimlock: ON" or "Aimlock: OFF"
    aimToggleBtn.BackgroundColor3 = aimEnabled and Color3.fromRGB(0, 255, 180) or Color3.fromRGB(0, 180, 255)
end)

local aimDesc = Instance.new("TextLabel", aimTab)
aimDesc.Size = UDim2.new(1, -30, 0, 60)
aimDesc.Position = UDim2.new(0, 15, 0, 65)
aimDesc.BackgroundTransparency = 1
aimDesc.Text = "Aimlock s·∫Ω t·ª± ƒë·ªông kh√≥a camera v√†o ph·∫ßn th√¢n ng∆∞·ªùi ch∆°i tr∆∞·ªõc m·∫∑t b·∫°n trong ph·∫°m vi 50 studs.\nB·∫≠t/t·∫Øt b·∫±ng n√∫t tr√™n."
aimDesc.TextColor3 = Color3.fromRGB(200, 200, 200)
aimDesc.TextWrapped = true
aimDesc.Font = Enum.Font.Gotham
aimDesc.TextSize = 14

-- Settings Tab
local settingsTab = Instance.new("Frame", contentFrame)
settingsTab.Name = "Settings"
settingsTab.Size = UDim2.new(1, 0, 1, 0)
settingsTab.BackgroundTransparency = 1
settingsTab.Visible = false

local settingsLabel = Instance.new("TextLabel", settingsTab)
settingsLabel.Size = UDim2.new(1, -30, 0, 40)
settingsLabel.Position = UDim2.new(0, 15, 0, 15)
settingsLabel.BackgroundTransparency = 1
settingsLabel.Text = "C√†i ƒë·∫∑t s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t sau..."
settingsLabel.TextColor3 = Color3.fromRGB(180, 180, 180)
settingsLabel.Font = Enum.Font.Gotham
settingsLabel.TextSize = 16

-- Create tab buttons
local tabAimBtn = createTabButton("Aimlock", 1)
local tabSettingsBtn = createTabButton("Settings", 2)

-- Default tab colors
tabAimBtn.TextColor3 = Color3.fromRGB(0, 255, 255)

-- Dragging logic for hubFrame
do
    local dragging = false
    local dragInput
    local dragStart
    local startPos

    local function update(input)
        local delta = input.Position - dragStart
        hubFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end

    hubFrame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragInput = input
            dragStart = input.Position
            startPos = hubFrame.Position

            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)

    hubFrame.InputChanged:Connect(function(input)
        if input == dragInput then
            update(input)
        end
    end)
end

-- Toggle hub show/hide with animation (ph√≥ng to/thu nh·ªè)
local function showHub()
    hubFrame.Visible = true
    hubFrame.Size = UDim2.new(0, 10, 0, 7) -- nh·ªè nh·∫•t
    hubFrame.Position = UDim2.new(1, -160, 0, 40)
    TweenService:Create(hubFrame, TweenInfo.new(toggleAnimTime, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 480, 0, 320),
        Position = UDim2.new(1, -490, 0, 40)
    }):Play()
end

local function hideHub()
    TweenService:Create(hubFrame, TweenInfo.new(toggleAnimTime, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
        Size = UDim2.new(0, 10, 0, 7),
        Position = UDim2.new(1, -160, 0, 40)
    }):Play()
    task.delay(toggleAnimTime, function()
        hubFrame.Visible = false
    end)
end

local hubOpen = false

local function toggleHub()
    if hubOpen then
        hideHub()
    else
        showHub()
    end
    hubOpen = not hubOpen
end

-- Connect floating bar click
floatBar.MouseButton1Click:Connect(toggleHub)

-- Connect close button click
closeBtn.MouseButton1Click:Connect(function()
    if hubOpen then
        toggleHub()
    end
end)

-- Aimlock logic
local function getTarget()
    local char = player.Character
    if not char or not char:FindFirstChild(aimPartName) then return nil end
    local camCF = camera.CFrame
    local closest, closestDot = nil, aimMinDot
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= player and plr.Character and plr.Character:FindFirstChild(aimPartName) then
            local hrp = plr.Character[aimPartName]
            local dir = (hrp.Position - camera.CFrame.Position).Unit
            local dot = dir:Dot(camCF.LookVector)
            local dist = (hrp.Position - char.HumanoidRootPart.Position).Magnitude
            if dot > closestDot and dist <= aimRange then
                closestDot = dot
                closest = hrp
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    if aimEnabled then
        local target = getTarget()
        if target then
            local camPos = camera.CFrame.Position
            local newCF = CFrame.new(camPos, target.Position)
            camera.CFrame = newCF
        end
    end
end)

print("DarknessGodHub loaded.")
    UIListLayout.Parent = dropFrame
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            local btn = Instance.new("TextButton", dropFrame)
            btn.Size = UDim2.new(1, 0, 0, 25)
            btn.Text = player.Name
            btn.Font = Enum.Font.Gotham
            btn.TextSize = 14
            btn.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
            btn.TextColor3 = Color3.fromRGB(255,255,255)
            btn.MouseButton1Click:Connect(function()
                selectedPlayer = player
                dropdown.Text = "üïΩÔ∏è " .. player.Name
                dropFrame.Visible = false
            end)
        end
    end
end

dropdown.MouseButton1Click:Connect(function()
    dropFrame.Visible = not dropFrame.Visible
end)

local refreshBtn = Instance.new("TextButton", underPanel)
refreshBtn.Size = UDim2.new(0.8, 0, 0, 25)
refreshBtn.Position = UDim2.new(0.1, 0, 1, -35)
refreshBtn.Text = "üîÑ L√†m m·ªõi danh s√°ch"
refreshBtn.Font = Enum.Font.Gotham
refreshBtn.TextSize = 14
refreshBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 80)
refreshBtn.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", refreshBtn).CornerRadius = UDim.new(0, 6)

refreshBtn.MouseButton1Click:Connect(refreshPlayerList)
refreshPlayerList()

-- TOGGLE GUI
local toggleGuiBtn = Instance.new("TextButton", frame)
toggleGuiBtn.Size = UDim2.new(0.8, 0, 0, 25)
toggleGuiBtn.Position = UDim2.new(0.1, 0, 0.8, 0)
toggleGuiBtn.Text = "üëÅ ·∫®n UI"
toggleGuiBtn.Font = Enum.Font.Gotham
toggleGuiBtn.TextSize = 14
toggleGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
toggleGuiBtn.TextColor3 = Color3.fromRGB(255,255,255)
Instance.new("UICorner", toggleGuiBtn).CornerRadius = UDim.new(0, 6)

local showGuiBtn = Instance.new("TextButton", screenGui)
showGuiBtn.Size = UDim2.new(0, 120, 0, 30)
showGuiBtn.Position = UDim2.new(0, 10, 1, -40)
showGuiBtn.Text = "üëÅ M·ªü l·∫°i UI"
showGuiBtn.Font = Enum.Font.Gotham
showGuiBtn.TextSize = 14
showGuiBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 70)
showGuiBtn.TextColor3 = Color3.fromRGB(255,255,255)
showGuiBtn.Visible = false
Instance.new("UICorner", showGuiBtn).CornerRadius = UDim.new(0, 6)

-- === Hi·ªáu ·ª©ng UI ===
local function animateHide()
    local tweenOut = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 0, 0, 0),
        Position = UDim2.new(0.5, 0, 0.5, 0),
        BackgroundTransparency = 1
    })
    tweenOut:Play()
    tweenOut.Completed:Connect(function()
        frame.Visible = false
        showGuiBtn.Visible = true
        frame.Size = UDim2.new(0, 350, 0, 220)
        frame.Position = UDim2.new(0.5, -175, 0.5, -110)
        frame.BackgroundTransparency = 0
    end)
end

local function animateShow()
    frame.Visible = true
    frame.Size = UDim2.new(0, 0, 0, 0)
    frame.Position = UDim2.new(0.5, 0, 0.5, 0)
    frame.BackgroundTransparency = 1

    local tweenIn = TweenService:Create(frame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 350, 0, 220),
        Position = UDim2.new(0.5, -175, 0.5, -110),
        BackgroundTransparency = 0
    })
    tweenIn:Play()
end

-- === Logic ===
toggleBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    aimlockTarget = getTargetInFront()
    local name = aimlockTarget and aimlockTarget.Name or "None"
    statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
end)

toggleUnderBtn.MouseButton1Click:Connect(function()
    underHitEnabled = not underHitEnabled
    underStatusLabel.Text = "UnderHit: " .. (underHitEnabled and "ON" or "OFF") .. " | Target: " .. (selectedPlayer and selectedPlayer.Name or "None")
end)

tabAimbot.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = true
    underPanel.Visible = false
end)

tabUnder.MouseButton1Click:Connect(function()
    aimbotPanel.Visible = false
    underPanel.Visible = true
end)

toggleGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = false
    animateHide()
end)

showGuiBtn.MouseButton1Click:Connect(function()
    guiVisible = true
    showGuiBtn.Visible = false
    animateShow()
end)

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.Insert then
        aimbotEnabled = not aimbotEnabled
        aimlockTarget = getTargetInFront()
        local name = aimlockTarget and aimlockTarget.Name or "None"
        statusLabel.Text = "Aimbot: " .. (aimbotEnabled and "ON" or "OFF") .. " | Target: " .. name
    elseif input.KeyCode == Enum.KeyCode.RightControl then
        guiVisible = not guiVisible
        if guiVisible then animateShow() else animateHide() end
        showGuiBtn.Visible = not guiVisible
    end
end)

RunService.RenderStepped:Connect(function()
    if aimbotEnabled and aimlockTarget and aimlockTarget.Character and aimlockTarget.Character:FindFirstChild(aimPart) then
        Camera.CFrame = CFrame.new(Camera.CFrame.Position, aimlockTarget.Character[aimPart].Position)
    end

    if underHitEnabled and selectedPlayer and selectedPlayer.Character then
        local myHRP = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        local enemyHRP = selectedPlayer.Character:FindFirstChild("HumanoidRootPart")
        if myHRP and enemyHRP then
            myHRP.CFrame = enemyHRP.CFrame * CFrame.new(4, -6, 0) -- l·ªách ƒë·ªÉ tr√°nh b·ªã ƒë√°nh
            underStatusLabel.Text = "UnderHit: ON | Target: " .. selectedPlayer.Name
        end
    end
end)

print("\226\156\150 GODHUB v2 ƒë√£ load ƒë·ªß: Aimbot + UnderHit + Dropdown + UI m∆∞·ª£t")
